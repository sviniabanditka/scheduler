# Laravel Scheduler - Docker Environment

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Å–æ–±–æ—é Laravel –¥–æ–¥–∞—Ç–æ–∫ –∑ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–º Docker —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ–º –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏.

## üê≥ Docker Services

- **Laravel App** (PHP 8.2-fpm) - –æ—Å–Ω–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫
- **Nginx** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **MySQL 8.0** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **Redis** - –∫–µ—à —Ç–∞ —Å–µ—Å—ñ—ó

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <repository-url>
cd scheduler

# –°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
cp docker.env.example .env

# –ó–≥–µ–Ω–µ—Ä—É–π—Ç–µ –∫–ª—é—á –¥–æ–¥–∞—Ç–∫—É
make install
```

### 2. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç—É

```bash
# –ó–±–µ—Ä—ñ—Ç—å —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏
make build
make up

# –í–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó
make migrate

# (–û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
make seed
```

### 3. –î–æ—Å—Ç—É–ø –¥–æ –¥–æ–¥–∞—Ç–∫—É

- **–í–µ–±-–¥–æ–¥–∞—Ç–æ–∫**: http://localhost:8080
- **MySQL**: localhost:3306
- **Redis**: localhost:6379

## üõ†Ô∏è –î–æ—Å—Ç—É–ø–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `make build` | –ó—ñ–±—Ä–∞—Ç–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ |
| `make up` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ |
| `make down` | –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ |
| `make install` | –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Laravel |
| `make migrate` | –í–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| `make seed` | –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ |
| `make fresh` | –°–∫–∏–Ω—É—Ç–∏ —Ç–∞ –ø–µ—Ä–µ—Å—Ç–≤–æ—Ä–∏—Ç–∏ –±–∞–∑—É –∑ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ |
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ |
| `make logs-app` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ –¥–æ–¥–∞—Ç–∫—É |
| `make logs-nginx` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ Nginx |
| `make logs-db` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| `make shell` | –£–≤—ñ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–¥–∞—Ç–∫—É |
| `make shell-db` | –£–≤—ñ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–∞–∑–∏ –¥–∞–Ω–∏—Ö |
| `make test` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç–∏ |
| `make cache-clear` | –û—á–∏—Å—Ç–∏—Ç–∏ –∫–µ—à –¥–æ–¥–∞—Ç–∫—É |
| `make clean` | –û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —Ç–∞ —Ç–æ–º–∏ |

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
scheduler/
‚îú‚îÄ‚îÄ app/                    # –ö–æ–¥ –¥–æ–¥–∞—Ç–∫—É Laravel
‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ database/               # –ú—ñ–≥—Ä–∞—Ü—ñ—ó, —Å—ñ–¥–µ—Ä–∏, —Ñ–∞–±—Ä–∏–∫–∏
‚îú‚îÄ‚îÄ docker/                 # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ nginx/             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Nginx
‚îÇ   ‚îú‚îÄ‚îÄ php/               # Dockerfile —Ç–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è PHP
‚îÇ   ‚îî‚îÄ‚îÄ mysql/             # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è MySQL
‚îú‚îÄ‚îÄ public/                 # –ü—É–±–ª—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ resources/              # –†–µ—Å—É—Ä—Å–∏ (views, assets)
‚îú‚îÄ‚îÄ routes/                 # –ú–∞—Ä—à—Ä—É—Ç–∏
‚îú‚îÄ‚îÄ storage/                # –§–∞–π–ª–∏ —Å—Ö–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ tests/                  # –¢–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ Makefile               # –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

### –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–û—Å–Ω–æ–≤–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –≤ `.env`:

```env
APP_NAME=Scheduler
APP_ENV=local
APP_DEBUG=true
APP_URL=http://localhost:8080

DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=scheduler
DB_USERNAME=scheduler
DB_PASSWORD=scheduler_password

REDIS_HOST=redis
REDIS_PORT=6379
```

### –ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ø—Ä–∏ –∑–º—ñ–Ω—ñ –∫–æ–¥—É:
- Volumes –ø—ñ–¥–∫–ª—é—á–µ–Ω—ñ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ñ–∞–π–ª—ñ–≤
- Xdebug –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è –≤—ñ–¥–ª–∞–¥–∫–∏
- Nginx –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ö–æ–ø–ª—é—î –∑–º—ñ–Ω–∏

## üêõ –í—ñ–¥–ª–∞–¥–∫–∞

### Xdebug

Xdebug –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è –≤—ñ–¥–ª–∞–¥–∫–∏. –î–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è Xdebug —É –≤–∞—à—ñ–π IDE
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ `localhost:9003`
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å breakpoints —É –∫–æ–¥—ñ

### –õ–æ–≥–∏

```bash
# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –¥–æ–¥–∞—Ç–∫—É
make logs-app

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ Nginx
make logs-nginx

# –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
make logs-db
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤
make test

# –í—Ö—ñ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
make shell
```

## üìù –†–æ–∑—Ä–æ–±–∫–∞

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –£–≤—ñ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make shell

# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ Composer
composer require package/name

# –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Docker Compose –Ω–∞–ø—Ä—è–º—É
docker-compose exec app composer require package/name
```

### –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

```bash
# –í–∏–∫–æ–Ω–∞—Ç–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó
make migrate

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –º—ñ–≥—Ä–∞—Ü—ñ—é
make shell
php artisan make:migration create_table_name

# –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Å—ñ–¥–µ—Ä
php artisan make:seeder TableNameSeeder
```

## üö® –£—Å—É–Ω–µ–Ω–Ω—è –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É

```bash
# –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É
sudo chown -R $USER:$USER .
chmod -R 755 storage bootstrap/cache
```

### –û—á–∏—â–µ–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
# –ü–æ–≤–Ω–µ –æ—á–∏—â–µ–Ω–Ω—è
make clean
make build
make up
```

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø–æ—Ä—Ç–∞–º–∏

–Ø–∫—â–æ –ø–æ—Ä—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ, –∑–º—ñ–Ω—ñ—Ç—å —ó—Ö —É `docker-compose.yml`:

```yaml
ports:
  - "8081:80"  # –ó–º—ñ–Ω–∏—Ç–∏ 8080 –Ω–∞ 8081
```

## üìö –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [Laravel Documentation](https://laravel.com/docs)
- [Docker Documentation](https://docs.docker.com/)
- [Docker Compose Documentation](https://docs.docker.com/compose/)
